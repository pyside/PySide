<?xml version="1.0"?>
<typesystem package="PySide.QtWebKit">
  <load-typesystem name="typesystem_core.xml" generate="no"/>
  <load-typesystem name="typesystem_gui.xml" generate="no"/>
  <load-typesystem name="typesystem_network.xml" generate="no"/>

  <namespace-type name="WebCore"/>

  <enum-type name="QWebSettings::FontFamily"/>
  <enum-type name="QWebSettings::FontSize"/>
  <enum-type name="QWebSettings::WebGraphic"/>
  <enum-type name="QWebSettings::WebAttribute"/>
  <enum-type name="QWebPage::ErrorDomain"/>
  <enum-type name="QWebPage::NavigationType"/>
  <enum-type name="QWebPage::WebAction"/>
  <enum-type name="QWebPage::WebWindowType"/>
  <enum-type name="QWebPage::FindFlag" flags="QWebPage::FindFlags"/>
  <enum-type name="QWebPage::LinkDelegationPolicy"/>
  <enum-type name="QWebPluginFactory::Extension"/>

  <!-- Qt 4.6 -->
  <enum-type name="QWebElement::StyleResolveStrategy"/>
  <enum-type name="QWebFrame::RenderLayer"/>
  <enum-type name="QWebPage:ErrorDomain"/>
  <enum-type name="QWebPage::Extension"/>

  <!-- unsuported property with type QList<MimeType> -->
  <rejection class="QWebPluginFactory::Plugin" field-name="mimeTypes"/>

  <object-type name="QWebView">
    <modify-function signature="setPage(QWebPage*)">
        <modify-argument index="1">
            <define-ownership class="target" owner="c++"/>
        </modify-argument>
    </modify-function>
    <modify-function signature="print(QPrinter*)const" rename="print_" />
  </object-type>
  <object-type name="QWebFrame">
    <modify-function signature="addToJavaScriptWindowObject(QString,QObject*)">
      <modify-argument index="2">
          <parent index="this" action="add"/>
      </modify-argument>
    </modify-function>
    <!-- TODO QMultiMap isn't implemented yet -->
    <modify-function signature="metaData()const" remove="all" />
  </object-type>

  <object-type name="QWebSettings"/>
  <object-type name="QWebPage">
    <modify-function signature="javaScriptPrompt(QWebFrame*,const QString &amp;,const QString &amp;,QString*)">
      <modify-argument index="return">
        <replace-type modified-type="PyObject"/>
      </modify-argument>
      <inject-code class="target" position="end">
        %RETURN_TYPE retval_ = %CPPSELF.%FUNCTION_NAME(%1, %2, %3, %4);
        %PYARG_0 = Shiboken::makeTuple(retval_, %4);
      </inject-code>
    </modify-function>
  </object-type>
  <object-type name="QWebHistory"/>
  <object-type name="QWebHistoryInterface"/>
  <object-type name="QWebPluginFactory"/>
  <value-type name="QWebPluginFactory::Plugin"/>
  <value-type name="QWebPluginFactory::MimeType"/>
  <value-type name="QWebDatabase"/>
  <value-type name="QWebHistoryItem"/>
  <value-type name="QWebHitTestResult"/>
  <value-type name="QWebSecurityOrigin"/>

  <!-- Qt 4.6 -->
  <object-type name="QGraphicsWebView"/>
  <object-type name="QWebInspector"/>
  <value-type name="QWebElement"/>
  <value-type name="QWebElementCollection"/>
</typesystem>
